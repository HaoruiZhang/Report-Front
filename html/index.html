<!DOCTYPE html>
<html lang="en" class="stereo">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="./assets/common/favicon.png" rel="icon" type="image/png" />
  <title>Summary</title>
</head>

<body>
  <div id="distribution-hover-layer2">
    <div id="distribution-content"></div>
    <div class="arrow"></div>
  </div>
  <div id="app" style="opacity: 0;background-color: #f4f5f6;">
    <el-header class="report-header" height="72px">
      <div class="header-left">
        <svg xmlns="http://www.w3.org/2000/svg" width="174" height="37" viewBox="0 0 174 37" fill="none">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M21.2995 33.1994C23.6409 31.0681 24.8099 28.5035 24.8099 25.4981C24.6872 21.1736 22.8075 18.1333 19.1745 16.3927C17.6051 15.6306 15.9095 15.1046 14.0948 14.8068C12.8321 14.6095 11.6956 14.2962 10.6782 13.8668C9.01503 13.0739 8.18524 12.0836 8.18524 10.8962C8.18524 9.70866 8.62539 8.76098 9.50208 8.04926C10.3788 7.34141 11.5116 6.98555 12.897 6.98555C14.2535 6.98555 15.4369 7.31433 16.4543 7.97577C17.4392 8.56758 18.0381 9.37987 18.2545 10.401L18.8101 13.1242L24.5357 10.3005L24.0739 8.51729C23.4569 6.13844 22.1185 4.20828 20.0548 2.72295C17.9623 1.17186 15.5776 0.394379 12.897 0.394379C9.84842 0.394379 7.2833 1.39621 5.20522 3.39212C3.12714 5.39191 2.08811 7.8752 2.08811 10.8459C2.08811 12.7296 2.62567 14.4548 3.70439 16.0213C4.78311 17.5918 6.27673 18.8373 8.18524 19.7617C9.75462 20.4889 11.3529 20.9647 12.9872 21.1968C14.1886 21.3631 15.3575 21.6919 16.4975 22.187C17.8541 22.7517 18.5612 23.7922 18.6225 25.3085V25.5058C18.6225 26.6933 18.0597 27.7067 16.9377 28.55C15.8121 29.3893 14.4519 29.8109 12.8501 29.8109C11.342 29.8109 10.0505 29.4473 8.97174 28.7202C7.95434 28.0897 7.32298 27.1342 7.07766 25.8462L6.52206 22.9722L0.886719 25.7456L1.25471 27.5791C1.77784 30.1243 3.14518 32.2362 5.36396 33.9188C7.55027 35.5705 10.0613 36.3944 12.8934 36.3944C16.1584 36.3944 18.958 35.3268 21.2995 33.1994ZM25.4081 1.13317V7.72047H34.7378V35.849H40.9287V7.72047H50.2584V1.13317H25.4081ZM67.3011 0.440937C70.3172 0.440937 73.1132 1.24162 75.6855 2.843C78.2579 4.44437 80.2962 6.62209 81.8043 9.38001C83.3123 12.1379 84.0664 15.1318 84.0664 18.3694C84.0664 21.6379 83.3196 24.6511 81.8259 27.4051C80.3323 30.1631 78.2939 32.3408 75.7072 33.9422C73.1204 35.5435 70.3099 36.3442 67.2794 36.3442C64.2453 36.3442 61.4456 35.5435 58.8733 33.9422C56.301 32.3408 54.2698 30.1631 52.7762 27.4051C51.2826 24.6472 50.5357 21.6379 50.5357 18.3694C50.5357 15.1009 51.2826 12.0876 52.7762 9.33359C54.2698 6.57567 56.301 4.40569 58.8733 2.81979C61.442 1.23002 64.2525 0.440937 67.3011 0.440937ZM74.7367 26.3646C76.8003 24.1366 77.8321 21.4716 77.8321 18.3655C77.8321 15.2633 76.8003 12.606 74.7367 10.3934C72.673 8.18091 70.1873 7.07465 67.2758 7.07465C64.3643 7.07465 61.8858 8.18091 59.8402 10.3934C57.791 12.606 56.77 15.2633 56.77 18.3655C56.77 21.4677 57.7946 24.1328 59.8402 26.3646C61.8894 28.5926 64.3679 29.7066 67.2758 29.7066C70.1873 29.7066 72.673 28.5926 74.7367 26.3646ZM109.606 10.3429H109.238C107.975 10.4086 106.944 10.5904 106.15 10.8844C105.194 11.2828 104.331 11.8089 103.563 12.4703C103.069 11.9094 102.423 11.4298 101.622 11.0353C100.76 10.6407 99.9913 10.428 99.3131 10.3932C98.5122 10.4241 97.6174 10.6562 96.6325 11.0855C95.6764 11.5497 94.908 12.0758 94.3235 12.6715V11.0855H88.3202V35.7947H94.3704V19.3555V19.3052C94.3704 18.547 94.6158 17.9204 95.11 17.4253C95.5754 16.8954 96.1599 16.6169 96.867 16.5821H96.9608C97.6679 16.5821 98.2668 16.849 98.7611 17.375C99.2554 17.9397 99.5007 18.5664 99.5007 19.2588V35.7986H105.551V19.2588C105.58 18.5316 105.858 17.9204 106.381 17.4253C106.842 16.8954 107.427 16.6323 108.134 16.6323H108.318C108.931 16.702 109.455 16.9805 109.887 17.4756C110.349 17.9359 110.623 18.4967 110.717 19.1582V35.7483H116.721V19.456V19.2085C116.721 18.2531 116.533 17.1777 116.165 15.9902C115.765 14.7679 115.303 13.7777 114.78 13.0196C114.224 12.2924 113.441 11.6658 112.424 11.1358C111.406 10.6059 110.468 10.3429 109.606 10.3429ZM121.202 35.7947V11.0352H127.115V35.7947H121.202ZM142.816 16.8296H142.863C143.816 16.8296 144.811 17.1429 145.847 17.7734C146.879 18.4 147.625 19.1621 148.087 20.0517L148.874 21.4365L154.368 18.6631L153.261 16.6826C152.272 14.9304 150.764 13.4373 148.733 12.1995C146.698 10.9618 144.728 10.3429 142.82 10.3429C139.465 10.3429 136.6 11.6155 134.23 14.1568C131.856 16.6981 130.673 19.7693 130.673 23.3666C130.673 26.9639 131.859 30.0352 134.23 32.5765C136.6 35.1178 139.465 36.3904 142.82 36.3904C144.728 36.3904 146.702 35.7599 148.733 34.5066C150.768 33.2534 152.276 31.7487 153.261 30.0003L154.321 28.0702L153.766 27.8226L148.87 25.3471L148.084 26.7318C147.589 27.6254 146.828 28.3835 145.796 29.0101C144.764 29.6368 143.769 29.9501 142.816 29.9501C141.124 29.9501 139.681 29.308 138.498 28.0199C137.311 26.7318 136.719 25.1885 136.719 23.3898C136.719 21.5912 137.311 20.0478 138.498 18.7598C139.681 17.4717 141.124 16.8296 142.816 16.8296ZM173.113 28.1204V28.3177C173.113 30.5302 172.266 32.4217 170.574 33.9882C168.881 35.5548 166.832 36.34 164.429 36.34C162.333 36.34 160.486 35.7289 158.888 34.5066C157.286 33.2842 156.287 31.7177 155.886 29.803L155.839 29.6057L160.504 27.2772L160.782 28.5149C160.966 29.2731 161.381 29.8688 162.03 30.2981C162.737 30.7932 163.571 31.0408 164.523 31.0408C165.541 31.0408 166.417 30.7778 167.157 30.2478C167.897 29.7218 168.265 29.0758 168.265 28.3177V28.2171C168.265 27.2926 167.803 26.666 166.879 26.3334C166.111 26.0046 165.31 25.7725 164.476 25.641C163.275 25.4437 162.106 25.0956 160.966 24.6005C159.581 23.9081 158.495 22.9836 157.708 21.8271C156.922 20.6705 156.532 19.3863 156.532 17.9629C156.532 15.7852 157.286 13.9672 158.794 12.5167C160.302 11.0661 162.196 10.3389 164.476 10.3389C166.417 10.3389 168.156 10.8998 169.697 12.0215C171.237 13.0775 172.237 14.4816 172.699 16.23L172.792 16.5781L168.265 18.7558L167.94 17.7153C167.723 17.0539 167.355 16.5433 166.832 16.1797C166.154 15.7852 165.371 15.584 164.476 15.584C163.614 15.584 162.907 15.8084 162.351 16.2532C161.796 16.698 161.522 17.286 161.522 18.0093C161.522 18.6359 162.03 19.2161 163.044 19.7422C163.813 20.071 164.599 20.2876 165.4 20.3843C166.63 20.5816 167.85 20.9606 169.047 21.5215C170.339 22.1172 171.335 23.0146 172.027 24.2214C172.724 25.4398 173.085 26.7356 173.113 28.1204ZM124.819 1.73428C126.732 2.06727 128.032 4.00049 127.721 6.05227C127.411 8.10404 125.608 9.4974 123.694 9.16441C121.78 8.83142 120.481 6.89818 120.791 4.84641C121.102 2.79463 122.905 1.40129 124.819 1.73428Z"
            fill="white" />
        </svg>
      </div>
      <div class="header-content">
        <span class="report_logo_content ">{{dataJson.reportTitle || 'Analytical Report'}}</span>
      </div>
    </el-header>
    <div style="background-color: #f4f5f6;width: 1600px;margin: auto;">



      <div class="main-content-box">

        <div class="main-content-area">
          <div class="report_sampleId_content ">
            <div class="sampleId-text">
              {{dataJson && dataJson.sampleId}}
            </div>
            <div class="sampleId-info" v-if="dataJson.desc">
              <div class="line"></div>
              <div class="info-text-box">
                <span v-for="item in dataJson.desc" class="text-item">
                  {{item}}
                </span>

              </div>
            </div>
          </div>

          <el-collapse v-if="dataJson && dataJson.alertData && dataJson.alertData.length" style="margin-bottom: 0;"
            v-model="showAlert" class="alert-box">
            <el-collapse-item name="1">
              <template #title>
                <div class="alert-title">
                  <span>Alerts</span>
                </div>
              </template>
              <div style="padding: 0 24px;">
                <el-table :data="dataJson && dataJson.alertData" style="width: 100%;" class="alert-table" stripe>
                  <el-table-column prop="metrics" label="Metrics" width="280"></el-table-column>
                  <el-table-column label="Value" width="176">
                    <template #default="scope">
                      <span class="numbers">{{scope.row.value}}</span>
                      <span class="reference">({{scope.row.reference}})</span>
                    </template>
                  </el-table-column>
                  <el-table-column label="Alert" width="104">
                    <template #default="scope">
                      <div
                        :class="{'alert-symbol': true, 'warning': scope.row.alert =='Warning', 'error': scope.row.alert == 'Error'}">
                        <span class="alert">
                          {{scope.row.alert}}
                        </span>
                      </div>

                    </template>


                  </el-table-column>
                  <el-table-column prop="note" label="Note"></el-table-column>
                </el-table>
              </div>
            </el-collapse-item>
          </el-collapse>

          <div id="menuContainer" v-if="omicsArr.length">
            <div id="firstMenu">
              <div class="firstMenu-wrapper">
                <template v-for="omicsName in omicsArr">
                  <div class="option">
                    <el-button :type="curOmics === omicsName ? 'primary': ''" round class="first-tab-btn"
                      @click="(curOmics = omicsName)&&handleChange()">
                      {{keyMap[omicsName]}}
                    </el-button>
                    <div v-if="curOmics === omicsName" class="split">
                    </div>
                  </div>
                </template>
              </div>
              <div
                style="width: 4px;box-sizing: border-box;height: 100%;border: none;background-color: rgba(228, 229, 233, 1); position: absolute;top: 0;right: 5px;">
              </div>
            </div>

            <div id="secondMenu-demo">
              <div class="secondMenu-wrapper">
                <div v-for="subTab in secondTabArr" :class="{'option': true, 'selected': subTab==curSecondTab}"
                  :style="optionStyle" @click="curSecondTab=subTab">
                  <span>
                    {{keyMap[subTab]}}
                  </span>
                </div>
              </div>

            </div>
          </div>


          <div class="content-area" v-if="curPage == 'gene-summary'">
            <Overview v-if="dataJson.omics.gene.summary.overview" :data="dataJson.omics.gene.summary.overview">
            </Overview>
            <expression v-if="dataJson.omics.gene.summary.expression" container-id="summary-gene-expression-imagebox"
              :module-title="dataJson.omics.gene.summary.expression.title"
              :msg="dataJson.omics.gene.summary.expression.msg"
              :heatmap-image-obj="dataJson.omics.gene.summary.expression.heatmapImageObj"
              :base-image-list="dataJson.baseImageList" :image-offset-obj="dataJson.imageOffsetObj">
            </expression>
            <key-metrics v-if="dataJson.omics.gene.summary.keyMetrics"
              :plot-dom-id="['gene-total-reads', 'gene-clean-reads']"
              :module-title="dataJson.omics.gene.summary.keyMetrics.title"
              :data="dataJson.omics.gene.summary.keyMetrics.data">
            </key-metrics>

            <div style="margin-right: 24px;">
              <common v-if="dataJson.omics.gene.summary.sequencing"
                :module-title="dataJson.omics.gene.summary.sequencing.title"
                :msg="dataJson.omics.gene.summary.sequencing.msg" :data="dataJson.omics.gene.summary.sequencing.data">
              </common>
              <common v-if="dataJson.omics.gene.summary.tissue" :module-title="dataJson.omics.gene.summary.tissue.title"
                :msg="dataJson.omics.gene.summary.tissue.msg" :data="dataJson.omics.gene.summary.tissue.data">
              </common>
            </div>

            <div>
              <common v-if="dataJson.omics.gene.summary.annotation"
                :module-title="dataJson.omics.gene.summary.annotation.title"
                :msg="dataJson.omics.gene.summary.annotation.msg" :data="dataJson.omics.gene.summary.annotation.data">
              </common>



            </div>

            <saturation v-if="dataJson.omics.gene.summary.saturation"
              :module-title="dataJson.omics.gene.summary.saturation.title"
              :msg="dataJson.omics.gene.summary.saturation.msg" :data="dataJson.omics.gene.summary.saturation.data">
            </saturation>
            <common-double-col v-if="dataJson.omics.gene.summary.information"
              :module-title="dataJson.omics.gene.summary.information.title"
              :msg="dataJson.omics.gene.summary.information.msg" :data="dataJson.omics.gene.summary.information.data">
            </common-double-col>
            <command-line :module-title="dataJson.omics.gene.summary.commandLine.title"
              :msg="dataJson.omics.gene.summary.commandLine.msg" :data="dataJson.omics.gene.summary.commandLine.data">
            </command-line>

          </div>
          <div class="content-area" v-if="curPage == 'gene-squarebin'">
            <square-table v-if="dataJson.omics.gene.squarebin.statistics" module-type="geneSquareBin"
              :module-title="dataJson.omics.gene.squarebin.statistics.title"
              :msg="dataJson.omics.gene.squarebin.statistics.msg" :data="dataJson.omics.gene.squarebin.statistics.data">
            </square-table>

            <div id="geneSquarebinDistribution" class="module-box distribution-module"
              style="width: 1200px;padding-bottom: 20px;">
              <module-header module-title="Square Bin Plots" :msg="dataJson.omics.gene.squarebin.distribution.msg">
              </module-header>
              <div class="module-content-box binsize-container">
                <div class="custom-toolbox">
                  <div class='toolboxBtn' @click="downloadEPlot('geneSquarebinDistribution', 'Square Bin Plots')">
                    <el-icon size="16">
                      <zhr-download>
                      </zhr-download>
                    </el-icon>
                  </div>
                </div>

                <el-tabs v-model="geneDistributionBinsize" type="card" class="demo-tabs" stretch>
                  <template v-for="(item,index) in dataJson.omics.gene.squarebin.distribution.binlist">
                    <el-tab-pane :key="item.value" :label="item.label" :name="item.value" lazy>
                      <distribution :data="item.data" :prefix="'squarebin-gene-' + item.value">
                      </distribution>
                    </el-tab-pane>
                  </template>
                </el-tabs>
              </div>
            </div>



            <div class="module-box cluster-module" id="geneSquarebinCluster"
              style="width: 1200px;padding-bottom: 20px;">
              <module-header :module-title="dataJson.omics.gene.squarebin.clustering.title">
              </module-header>
              <div class="module-content-box binsize-container">
                <div class="custom-toolbox">
                  <div class='toolboxBtn'
                    @click="downloadCluster('squarebin-gene-'+geneClusterBinsize, dataJson.omics.gene.squarebin.clustering.title)">
                    <el-icon size="16">
                      <zhr-download>
                      </zhr-download>
                    </el-icon>
                  </div>
                </div>
                <el-tabs v-model="geneClusterBinsize" type="card" class="demo-tabs" stretch>
                  <template v-for="(item,index) in dataJson.omics.gene.squarebin.clustering.binlist">
                    <el-tab-pane :key="item.value" :label="item.label" :name="item.value" lazy>
                      <cluster :msg="item.msg" :data="item.data" :prefix="'squarebin-gene-'+item.value"
                        :bin-size="item.value" :base-image-list="dataJson.baseImageList"
                        :base-src="(dataJson.clusterImage && dataJson.clusterImage.src.source) ?  dataJson.clusterImage.src : dataJson.baseImageList[0].src">
                      </cluster>
                    </el-tab-pane>
                  </template>
                </el-tabs>
              </div>
            </div>

            <div class="module-box marker-table" style="width: 1200px;padding-bottom: 20px;">
              <module-header module-title="Top Markers by Cluster"
                :msg="dataJson.omics.gene.squarebin.markers.msg.header">
              </module-header>
              <div class="module-content-box binsize-container">
                <el-tabs v-model="geneMarkerTableBinsize" type="card" class="demo-tabs" stretch>
                  <template v-for="(item,index) in dataJson.omics.gene.squarebin.markers.binlist">
                    <el-tab-pane :key="item.value" :label="item.label" :name="item.value" lazy>
                      <marker-table :msg="item.msg" :data="item.data" :prefix="'squarebin-gene-'+item.value">
                      </marker-table>
                    </el-tab-pane>
                  </template>
                </el-tabs>
              </div>
            </div>




          </div>
          <div class="content-area" v-if="curPage=='gene-cellbin'">
            <square-table v-if="dataJson.omics.gene.cellbin.statistics" module-type="geneCellBin"
              :module-title="dataJson.omics.gene.cellbin.statistics.title"
              :msg="dataJson.omics.gene.cellbin.statistics.msg" :data="dataJson.omics.gene.cellbin.statistics.data">
            </square-table>
            <div id="geneCellbinDistribution" class="module-box distribution-module"
              style="width: 1200px;padding-bottom: 20px;">
              <module-header module-title="Cell Bin Plots" :msg="dataJson.omics.gene.cellbin.distribution.msg">
              </module-header>
              <div class="module-content-box withPaddingTop">
                <div class="custom-toolbox">
                  <div class='toolboxBtn' @click="downloadEPlot('geneCellbinDistribution', 'Cell Bin Plots')">
                    <el-icon size="16">
                      <zhr-download>
                      </zhr-download>
                    </el-icon>
                  </div>
                </div>
                <distribution v-if="dataJson.omics.gene.cellbin.distribution"
                  :data="dataJson.omics.gene.cellbin.distribution.data" prefix="gene-cellbin">
              </div>
            </div>

            <div class="module-box cluster-module" id="geneCellbinCluster" style="width: 1200px;padding-bottom: 20px;">
              <module-header :module-title="dataJson.omics.gene.cellbin.clustering.title">
              </module-header>
              <div class="module-content-box withPaddingTop">
                <div class="custom-toolbox">
                  <div class='toolboxBtn'
                    @click="downloadCluster('gene-cellbin', dataJson.omics.gene.cellbin.clustering.title)">
                    <el-icon size="16">
                      <zhr-download>
                      </zhr-download>
                    </el-icon>
                  </div>
                </div>
                <cluster v-if="dataJson.omics.gene.cellbin.clustering" :msg="dataJson.omics.gene.cellbin.clustering.msg"
                  :data="dataJson.omics.gene.cellbin.clustering.data" :base-image-list="dataJson.baseImageList"
                  :base-src="(dataJson.clusterImage && dataJson.clusterImage.src.source) ?  dataJson.clusterImage.src : dataJson.baseImageList[0].src"
                  prefix="gene-cellbin" bin-size="Cellbin">
                </cluster>
              </div>
            </div>



            <div class="module-box marker-table cellbin" style="width: 1200px;padding-bottom: 20px;">
              <module-header module-title="Top Markers by Cluster"
                :msg="dataJson.omics.gene.cellbin.markers.msg.header">
              </module-header>
              <div class="module-content-box binsize-container">
                <marker-table v-if="dataJson.omics.gene.cellbin.markers" :msg="dataJson.omics.gene.cellbin.markers.msg"
                  :data="dataJson.omics.gene.cellbin.markers.data" prefix="cellbin-gene">
                </marker-table>
              </div>
            </div>



          </div>


          <div class="content-area" v-if="curPage == 'protein-summary'">
            <Overview v-if="dataJson.omics.protein.summary.overview" :data="dataJson.omics.protein.summary.overview">
            </Overview>
            <expression v-if="dataJson.omics.protein.summary.expression"
              container-id="summary-protein-expression-imagebox"
              :module-title="dataJson.omics.protein.summary.expression.title"
              :msg="dataJson.omics.protein.summary.expression.msg"
              :heatmap-image-obj="dataJson.omics.protein.summary.expression.heatmapImageObj"
              :base-image-list="dataJson.baseImageList" :image-offset-obj="dataJson.imageOffsetObj">
            </expression>


            <key-metrics v-if="dataJson.omics.protein.summary.keyMetrics" :plot-dom-id="['protein-total-reads']"
              :module-title="dataJson.omics.protein.summary.keyMetrics.title"
              :data="dataJson.omics.protein.summary.keyMetrics.data">
            </key-metrics>

            <div style="margin-right: 24px;">
              <common :module-title="dataJson.omics.protein.summary.sequencing.title"
                :msg="dataJson.omics.protein.summary.sequencing.msg"
                :data="dataJson.omics.protein.summary.sequencing.data">
              </common>
            </div>
            <div>
              <common v-if="dataJson.omics.protein.summary.tissue"
                :module-title="dataJson.omics.protein.summary.tissue.title"
                :msg="dataJson.omics.protein.summary.tissue.msg" :data="dataJson.omics.protein.summary.tissue.data">
              </common>
            </div>



            <saturation v-if="dataJson.omics.protein.summary.saturation"
              :module-title="dataJson.omics.protein.summary.saturation.title"
              :msg="dataJson.omics.protein.summary.saturation.msg"
              :data="dataJson.omics.protein.summary.saturation.data">
            </saturation>
            <correlations v-if="dataJson.omics.protein.summary.correlations"
              :module-title="dataJson.omics.protein.summary.correlations.title"
              :msg="dataJson.omics.protein.summary.correlations.msg"
              :data="dataJson.omics.protein.summary.correlations.data" y-axis-title="Protein">
            </correlations>
            <correlations v-if="dataJson.omics.protein.summary.geneCorrelations"
              :module-title="dataJson.omics.protein.summary.geneCorrelations.title"
              :msg="dataJson.omics.protein.summary.geneCorrelations.msg"
              :data="dataJson.omics.protein.summary.geneCorrelations.data" bin-size="bin50" y-axis-title="Gene">
            </correlations>
            <counts v-if="dataJson.omics.protein.summary.counts"
              :module-title="dataJson.omics.protein.summary.counts.title"
              :msg="dataJson.omics.protein.summary.counts.msg" :data="dataJson.omics.protein.summary.counts.data">
            </counts>
            <common-double-col v-if="dataJson.omics.protein.summary.information"
              :module-title="dataJson.omics.protein.summary.information.title"
              :msg="dataJson.omics.protein.summary.information.msg"
              :data="dataJson.omics.protein.summary.information.data">
            </common-double-col>
            <command-line v-if="dataJson.omics.protein.summary.commandLine"
              :module-title="dataJson.omics.protein.summary.commandLine.title"
              :msg="dataJson.omics.protein.summary.commandLine.msg"
              :data="dataJson.omics.protein.summary.commandLine.data">
            </command-line>
          </div>
          <div class="content-area" v-if="curPage == 'protein-squarebin'">
            <square-table v-if="dataJson.omics.protein.squarebin.statistics" module-type="proteinSquareBin"
              :module-title="dataJson.omics.protein.squarebin.statistics.title"
              :msg="dataJson.omics.protein.squarebin.statistics.msg"
              :data="dataJson.omics.protein.squarebin.statistics.data">
            </square-table>

            <div id="proteinSquarebinDistribution" class="module-box distribution-module" style="width: 1200px;padding-bottom: 20px;">
              <module-header module-title="Square Bin Plots" :msg="dataJson.omics.protein.squarebin.distribution.msg">
              </module-header>
              <div class="module-content-box binsize-container">
                <div class="custom-toolbox">
                  <div class='toolboxBtn' @click="downloadEPlot('proteinSquarebinDistribution', 'Square Bin Plots')">
                    <el-icon size="16">
                      <zhr-download>
                      </zhr-download>
                    </el-icon>
                  </div>
                </div>
                <el-tabs v-model="proteinDistributionBinsize" type="card" class="demo-tabs" stretch>
                  <template v-for="(item,index) in dataJson.omics.protein.squarebin.distribution.binlist">
                    <el-tab-pane :key="item.value" :label="item.label" :name="item.value" lazy>
                      <distribution :data="item.data" :prefix="'squarebin-protein-' + item.value">
                      </distribution>
                    </el-tab-pane>
                  </template>

                </el-tabs>
              </div>
            </div>

            <div class="module-box cluster-module" id="proteinSquareBinCluster"
              style="width: 1200px;padding-bottom: 20px;">
              <module-header :module-title="dataJson.omics.protein.squarebin.clustering.title">
              </module-header>
              <div class="module-content-box binsize-container">
                <div class="custom-toolbox">
                  <div class='toolboxBtn'
                    @click="downloadCluster('squarebin-protein-'+proteinClusterBinsize, dataJson.omics.protein.squarebin.clustering.title)">
                    <el-icon size="16">
                      <zhr-download>
                      </zhr-download>
                    </el-icon>
                  </div>
                </div>
                <el-tabs v-model="proteinClusterBinsize" type="card" class="demo-tabs" stretch>
                  <template v-for="(item,index) in dataJson.omics.protein.squarebin.clustering.binlist">
                    <el-tab-pane :key="item.value" :label="item.label" :name="item.value" lazy>
                      <cluster :msg="item.msg" :data="item.data" :prefix="'squarebin-protein-'+item.value"
                        :bin-size="item.value" :base-image-list="dataJson.baseImageList"
                        :base-src="(dataJson.clusterImage && dataJson.clusterImage.src.source) ?  dataJson.clusterImage.src : dataJson.baseImageList[0].src">
                      </cluster>
                    </el-tab-pane>
                  </template>
                </el-tabs>
              </div>
            </div>





          </div>
          <div class="content-area" v-if="curPage == 'protein-cellbin'">
            <square-table v-if="dataJson.omics.protein.cellbin.statistics" module-type="proteinCellBin"
              :module-title=" dataJson.omics.protein.cellbin.statistics.title"
              :msg="dataJson.omics.protein.cellbin.statistics.msg"
              :data="dataJson.omics.protein.cellbin.statistics.data">
            </square-table>
            <div id="proteinCellBinDistribution" class="module-box distribution-module"
              style="width: 1200px;padding-bottom: 20px;">
              <module-header module-title="Cell Bin Plots" :msg="dataJson.omics.protein.cellbin.distribution.msg">
              </module-header>
              <div class="module-content-box withPaddingTop">
                <div class="custom-toolbox">
                  <div class='toolboxBtn' @click="downloadEPlot('proteinCellBinDistribution', 'Cell Bin Plots')">
                    <el-icon size="16">
                      <zhr-download>
                      </zhr-download>
                    </el-icon>
                  </div>
                </div>
                <distribution v-if="dataJson.omics.protein.cellbin.distribution"
                  :data="dataJson.omics.protein.cellbin.distribution.data" prefix="gene-cellbin">
              </div>
            </div>

            <div class="module-box cluster-module" id="proteinCellBinCluster"
              style="width: 1200px;padding-bottom: 20px;">
              <module-header :module-title="dataJson.omics.protein.cellbin.clustering.title">
              </module-header>
              <div class="module-content-box withPaddingTop">
                <div class="custom-toolbox">
                  <div class='toolboxBtn'
                    @click="downloadCluster('protein-cellbin', dataJson.omics.protein.cellbin.clustering.title)">
                    <el-icon size="16">
                      <zhr-download>
                      </zhr-download>
                    </el-icon>
                  </div>
                </div>
                <cluster v-if="dataJson.omics.protein.cellbin.clustering"
                  :msg="dataJson.omics.protein.cellbin.clustering.msg"
                  :data="dataJson.omics.protein.cellbin.clustering.data" :base-image-list="dataJson.baseImageList"
                  :base-src="(dataJson.clusterImage && dataJson.clusterImage.src.source) ?  dataJson.clusterImage.src : dataJson.baseImageList[0].src"
                  prefix="protein-cellbin" bin-size="Cellbin">
                </cluster>
              </div>
            </div>




          </div>

          <div class="content-area" v-if="curPage == 'image-summary'" style="display: flex;">
            <div style="margin-right: 24px;">
              <common v-if="dataJson.omics.image.summary.info" :module-title="dataJson.omics.image.summary.info.title"
                :msg="dataJson.omics.image.summary.info.msg" :data="dataJson.omics.image.summary.info.data">
              </common>
              <common v-if="dataJson.omics.image.summary.stitching"
                :module-title="dataJson.omics.image.summary.stitching.title"
                :msg="dataJson.omics.image.summary.stitching.msg" :data="dataJson.omics.image.summary.stitching.data">
              </common>
              <common v-if="dataJson.omics.image.summary.qc" :module-title="dataJson.omics.image.summary.qc.title"
                :msg="dataJson.omics.image.summary.qc.msg" :data="dataJson.omics.image.summary.qc.data">
              </common>
            </div>
            <div>
              <common v-if="dataJson.omics.image.summary.registration"
                :module-title="dataJson.omics.image.summary.registration.title"
                :msg="dataJson.omics.image.summary.registration.msg"
                :data="dataJson.omics.image.summary.registration.data">
              </common>
            </div>
            <registration v-if="dataJson.omics.image.summary.registrationPlot"
              container-id="summary-image-registrationPlot-imagebox"
              :module-title="dataJson.omics.image.summary.registrationPlot.title"
              :msg="dataJson.omics.image.summary.registrationPlot.msg"
              :data="dataJson.omics.image.summary.registrationPlot.data">
            </registration>

          </div>

          <div class="content-area" v-if="curPage == 'microbe-summary'" style="display: flex;flex-wrap: wrap;">
            <Overview v-if="dataJson.omics.microbe.summary.overview" :data="dataJson.omics.microbe.summary.overview">
            </Overview>
            <expression v-if="dataJson.omics.microbe.summary.expression" container-id="microbe-expression-imagebox"
              :module-title="dataJson.omics.microbe.summary.expression.title"
              :msg="dataJson.omics.microbe.summary.expression.msg"
              :heatmap-image-obj="dataJson.omics.microbe.summary.expression.heatmapImageObj"
              :base-image-list="dataJson.baseImageList" :image-offset-obj="dataJson.imageOffsetObj">
            </expression>


            <microbe-metrics v-if="dataJson.omics.microbe.summary.microMetrics"
              :module-title="dataJson.omics.microbe.summary.microMetrics.title"
              :data="dataJson.omics.microbe.summary.microMetrics.data">
            </microbe-metrics>

            <microbe v-if="dataJson.omics.microbe.summary.phylum"
              :module-title="dataJson.omics.microbe.summary.phylum.title"
              :msg="dataJson.omics.microbe.summary.phylum.msg" :data="dataJson.omics.microbe.summary.phylum.data"
              :src="dataJson.omics.microbe.summary.phylum.src" header="Phylum">
            </microbe>
            <microbe v-if="dataJson.omics.microbe.summary.class"
              :module-title="dataJson.omics.microbe.summary.class.title" :msg="dataJson.omics.microbe.summary.class.msg"
              :data="dataJson.omics.microbe.summary.class.data" :src="dataJson.omics.microbe.summary.class.src"
              header="Class">
            </microbe>
            <microbe v-if="dataJson.omics.microbe.summary.genus"
              :module-title="dataJson.omics.microbe.summary.genus.title" :msg="dataJson.omics.microbe.summary.genus.msg"
              :data="dataJson.omics.microbe.summary.genus.data" :src="dataJson.omics.microbe.summary.genus.src"
              header="Genus">
            </microbe>
          </div>

          <div class="content-area" v-if="dataJson.ms">
            <common-double-col v-if="dataJson.ms.information" :module-title="dataJson.ms.information.title"
              :msg="dataJson.ms.information.msg" :data="dataJson.ms.information.data">
            </common-double-col>

            <input-table v-if="dataJson.ms.inputInformation" :module-title="dataJson.ms.inputInformation.title"
              :msg="dataJson.ms.inputInformation.msg" :data="dataJson.ms.inputInformation.data">
            </input-table>

            <depth-normalization v-if="dataJson.ms.depthNormalization"
              :module-title="dataJson.ms.depthNormalization.title" :msg="dataJson.ms.depthNormalization.msg"
              :data="dataJson.ms.depthNormalization.data">
            </depth-normalization>

            <batch-correction v-if="dataJson.ms.batchCorrection" :module-title="dataJson.ms.batchCorrection.title"
              :data="dataJson.ms.batchCorrection.binlist">
            </batch-correction>

            <spatial-clustering v-if="dataJson.ms.spatialClustering" :module-title="dataJson.ms.spatialClustering.title"
              :desc="dataJson.ms.spatialClustering.desc" :data="dataJson.ms.spatialClustering.binlist">
            </spatial-clustering>
            <cluster-ratio v-if="dataJson.ms.clusterRatio" :module-title="dataJson.ms.clusterRatio.title"
              :msg="dataJson.ms.clusterRatio.msg" :data="dataJson.ms.clusterRatio.data">
            </cluster-ratio>

            <div class="module-box marker-table cellbin" style="width: 1200px;padding-bottom: 20px;">
              <module-header :module-title="dataJson.ms.markers.title" :msg="dataJson.ms.markers.msg.header">
              </module-header>
              <div class="module-content-box binsize-container">
                <marker-table v-if="dataJson.ms.markers" :msg="dataJson.ms.markers.msg" :data="dataJson.ms.markers.data"
                  :headers="dataJson.ms.markers.headers" prefix="cellbin-gene">
                </marker-table>
              </div>
            </div>

            <div class="module-box marker-table" style="width: 1200px;padding-bottom: 20px;">
              <module-header :module-title="dataJson.ms.aggrMarkers.title" :msg="dataJson.ms.aggrMarkers.msg.header">
              </module-header>
              <div class="module-content-box binsize-container">
                <div style="position: absolute; right: 0;height: 36px;">
                  <span
                    style="color: var(--Light-05--B2-, #45537A);  font-size: 14px; font-style: normal; font-weight: 400; line-height: 22px; margin-right: 8px;">By</span>
                  <el-select class="aggrSelector" v-model="msMarkerTableBinsize" popper-class="select-option"
                    placeholder="Select" size="large" style="width: 148px;height: 36px;">
                    <!-- <el-option v-for="item in dataJson.ms.aggrMarkers.binlist" :key="item.value" :label="item.label"
                      :value="item.value" /> -->
                    <el-option v-for="item in dataJson.ms.aggrMarkers.binlist" :key="item.value" :label="item.label"
                      :value="item.value">
                      <span style="float: left">{{ item.label }}</span>
                      <span v-if="msMarkerTableBinsize==item.value"
                        style="float: right; color: var(--el-text-color-secondary); font-size: 13px;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="15" height="12" viewBox="0 0 15 12" fill="none">
                          <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M14.1297 1.95285L5.69385 11.1233L0.871094 5.51935L2.08383 4.47567L5.73366 8.71672L12.9521 0.869629L14.1297 1.95285Z"
                            fill="#5F0085" />
                        </svg>
                      </span>
                    </el-option>
                  </el-select>
                </div>

                <el-tabs v-model="msMarkerTableBinsize" type="card" class="aggr-tabs" stretch>
                  <template v-for="(item,index) in dataJson.ms.aggrMarkers.binlist">
                    <el-tab-pane :key="item.value" :label="item.label" :name="item.value" lazy>
                      <marker-table :msg="item.msg" :data="item.data" :prefix="'aggr-'+item.value"
                        :headers="item.headers">
                      </marker-table>
                    </el-tab-pane>
                  </template>
                </el-tabs>
              </div>
            </div>

            <command-line :module-title="dataJson.ms.commandLine.title"
              :msg="dataJson.ms.commandLine.msg" :data="dataJson.ms.commandLine.data">
            </command-line>
          </div>

        </div>
      </div>


    </div>
    <el-footer class="report-footer">
      <div class="left-space" style="width: calc(50% - 600px);height: 50px;min-width: 200px;"></div>
      <div class="main-content-area footer-content">
        <div class="footer-subItem left">
          <span>
            services@stomics.tech (Greater China)
          </span>
          <span>
            info_global@stomics.tech (Global)
          </span>
        </div>


        <div class="footer-subItem right">
          <span class="pipeline-version">
            {{dataJson.pipelineVersion}}
          </span>
          <span>
            <span>&#169;</span> 2025 STOmics Tech Co., Ltd. All rights reserved.
          </span>
        </div>

      </div>
    </el-footer>

  </div>

</body>
<!-- <link rel="stylesheet" href="./css/element-plus.2.9.9.min.css"> -->
<link rel="stylesheet" href="./css/element-plus.min.css">
<link rel="stylesheet" href="./css/element-plus.stereo.css">
<link rel="stylesheet" href="./css/datatables.css">
<link rel="stylesheet" href="./css/arco.min.css">
<style>
  .numbers {
    font-family: "Helvetica Neue", Arial, sans-serif;
    font-variant-numeric: tabular-nums;
  }

  .msg-icon-box {
    width: 16px;
    height: 16px;
    display: flex;
    align-items: center;
    justify-content: center;

    &.size14 {
      height: 14px;
      width: 14px;
    }

    &.size18 {
      height: 18px;
      width: 18px;
    }

    &.marginL {
      margin-left: 4px;
    }

    svg {

      &:hover,
      &:active {
        path {
          fill: #45537A;

          &:last-child {
            stroke: #45537A;
          }
        }

      }
    }
  }

  /* Menu */
  #menuContainer {
    position: sticky;
    top: 0;
    z-index: 9999;
    /* margin-bottom: 16px; */
    /* background-color: #fffdff; */
    padding: 16px 0 16px 0;
    display: flex;
    height: 92px;
    box-sizing: border-box;
    /* padding: 7px 8px; */
    align-items: center;
    gap: 24px;
    align-self: stretch;

    /* border-radius: 80px; */
    background: var(--Light-B10, #f4f5f6);
    /* background-color: #f4f5f6; */
    /* border: solid 1px green; */

    #firstMenu {
      position: absolute;
      top: 90px;
      left: -149px;

      .firstMenu-wrapper {
        height: 100%;
        width: 130px;
        padding: 4px 0;

        .option {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-bottom: 12px;

          &:last-child {
            margin-bottom: 0;
          }

          button {
            height: 44px;
            padding-left: 24px;
            padding-right: 24px;
            min-width: 112px;
            border-radius: 24px;
            border: none;
            color: #45537a;
            font-size: 16px;

            &:hover {
              /* color: #5f0085; */
            }

            &.el-button--primary {
              color: #ffff;

              &:hover {
                background-color: #5f0085;
              }
            }
          }

          .split {
            width: 14px;
            height: 5px;
            box-sizing: border-box;
            border: none;
            background-color: #5F0085;
            z-index: 9;
          }
        }
      }
    }

    .secondMenu-wrapper {
      width: 100%;
      height: 100%;
      box-sizing: border-box;
      /* border: solid 1px red; */
      display: flex;
      border-radius: 80px;
      justify-content: space-between;
      align-items: center;
      /* background-color: #fff; */
      padding: 7px 8px;
      background: var(--Light-B10, #FFF);

    }

    #secondMenu-demo {
      width: 100%;
      height: 100%;
      border-radius: 80px;
      display: flex;
      justify-content: space-between;
      align-items: center;

      .option {
        border-radius: 80px;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 46px;



        &:hover:not(.selected) {
          cursor: pointer;
          background-color: rgba(235, 236, 240, 0.4);
        }

        &:active {
          background: rgba(235, 236, 240, 0.8);
        }

        &.selected {
          background: rgba(235, 236, 240, 1);

          &:hover {
            cursor: pointer;
          }

          span {
            font-weight: 600;
          }
        }

        span {
          color: var(--Light-05--B2-, #45537A);
          text-align: center;
          font-size: 16px;
          font-style: normal;
          font-weight: 400;
          line-height: normal;
        }
      }
    }
  }
</style>
<style scoped>
  .el-header,
  .el-main,
  .el-footer,
  .center {
    display: flex;
    align-items: center;
    justify-content: center;
  }


  .el-main {
    /* for sticky style */
    overflow: visible;
  }

  .el-collapse-item__arrow {
    transform: rotate(270deg);
    margin: 0 auto 0 8px;
    height: 16px;
    width: 16px;

    svg {
      width: 16px;
      height: 16px;
    }
  }

  .el-popper {
    max-width: 400px;
  }

  .hover-msg-box {
    span {
      font-size: 14px;
      line-height: 22px;
    }
  }

  .el-menu--horizontal>.el-menu-item.is-active,
  .el-menu--horizontal>.el-sub-menu.is-active .el-sub-menu__title {
    font-weight: 600;
  }

  /* .el-select-dropdown__item {
    color: #45537a;
    padding: 0 12px;

    &.is-hovering {
      background-color: #F8F5FF;
    }

    &.is-selected {
      font-weight: unset;
    }

  } */
  .el-table.r-table .cell {
    display: inline-block;
    white-space: nowrap;
    width: auto;
    overflow: auto;
  }

  .el-table.r-table .el-table__body-wrapper {
    overflow-x: auto;
  }

  .legendtext {
    font-family: Inter, "-apple-system", BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", "noto sans", "Microsoft YaHei", "Helvetica Neue", Helvetica, Arial, sans-serif !important;
  }

  #customMessage {
    position: absolute;
    border: solid 1px var(--el-text-color-primary);
    background-color: var(--el-text-color-primary);
    min-width: 30px;
    left: -300px;
    min-height: 20px;
    overflow: auto;
    padding: 5px 11px;
    border-radius: 4px;
    z-index: 99999;
    color: var(--el-bg-color);
    font-size: 14px;
    line-height: 20px;
    overflow-wrap: break-word;
  }

  #customArrow {
    display: block;
    position: absolute;
    left: -200px;
    height: 10px;
    width: 10px;
    border: solid 1px var(--el-text-color-primary);
    background-color: var(--el-text-color-primary);
    rotate: 45deg;
  }

  /* .el-menu--horizontal>.el-menu-item {
    font-weight: 550;
  } */

  .main-content-box {
    background-color: #f4f5f6;
    /* display: flex; */
  }

  .main-content-area {
    width: 1200px;
    padding-top: 16px;
    margin-left: auto;
    margin-right: auto;
    background-color: #f4f5f6;
  }

  .el-tabs__header.is-top {
    width: 240px;
  }

  .el-tabs__item.is-top {
    font-size: 16px;
    color: #999999;
    font-weight: 550;
    padding: 0 20px;

    &.is-active {
      color: #5F0185;
    }
  }


  /* toolboxBtn */

  .custom-toolbox {
    z-index: 999;
    position: absolute;
    right: 0;
    top: 0px;
    height: 38px;
    display: flex;
    align-items: center;

    .toolboxBtn {
      display: flex;
      width: 32px;
      height: 32px;
      padding: 4px;
      justify-content: center;
      align-items: center;
      gap: 10px;
      flex-shrink: 0;
      border-radius: 32px;
      border: 1px solid var(--Light-05--B7-, #EBECF0);
      background-color: #F2F4FA;
      box-sizing: border-box;
      margin-left: 8px;

      &.is-active {
        background-color: #f8f5ff;
      }

      &:hover {
        cursor: pointer;
        box-shadow: inset 0 0 0 1000px rgba(0, 0, 0, 0.04);
      }

      &:active {
        box-shadow: inset 0 0 0 1000px rgba(0, 0, 0, 0.08);
      }
    }
  }



  /* Logo*/
  .report-header {
    width: 100%;
    display: flex;
    justify-content: flex-start;
    background-color: #fff;

    .header-left {
      width: calc(50% - 600px);
      min-width: 200px;
      display: flex;
      justify-content: flex-end;
      align-items: center;
      height: 72px;
      background-color: #5F0185;

      svg {
        width: 96px;
        height: 20px;
        margin-right: 24px;
        /* height: 35.56px; */
      }
    }

    .header-content {
      width: 1200px;
      margin: 0;
      height: 100%;
      display: flex;
      align-items: center;
      padding-left: 20px;

      .report_logo_content {
        font-size: 20px;
        font-weight: 600;
        line-height: 28px;
        text-align: left;
        text-underline-position: from-font;
        text-decoration-skip-ink: none;
        color: var(--Light-01-brand-06-default, rgba(95, 0, 133, 1));
      }
    }

  }

  /* footer */
  .report-footer {
    margin-top: 16px;
    width: 100%;
    min-width: 1600px;
    background: linear-gradient(0deg, rgba(0, 0, 0, 0.04) 0%, rgba(0, 0, 0, 0.04) 100%), #F4F5F6;
    justify-content: flex-start;
    padding: 0;

    .footer-content {
      display: flex;
      margin: 0 !important;
      padding: 24px 0;
      min-width: 1200px;
      justify-content: space-between;
      align-items: center;
      background-color: #eaebec;

      .footer-subItem {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: flex-start;
        height: 36px;

        &.right {
          align-items: flex-end;
          height: 44px;
        }

        span {
          color: var(--Light-B2-, #45537A);
          /* font-family: Roboto; */
          font-size: 14px;
          font-style: normal;
          font-weight: 400;
          line-height: 14px;

          /* 100% */
          &.pipeline-version {
            color: var(--Light-B2-, #45537A);
            text-align: center;
            font-size: 18px;
            font-style: normal;
            font-weight: 600;
            line-height: 18px;
            /* 100% */
          }
        }
      }
    }


  }

  /* SampleID*/
  .report_sampleId_content {
    /* font-size: 32px;
    font-weight: 500;
    color: #333333;
    text-align: left; */
    /* border: solid 1px red; */
    border-radius: 4px;
    background-color: #ffffff;
    padding: 20px;

    .sampleId-text {
      font-size: 24px;
      font-weight: 600;
      line-height: 33.6px;
      text-align: left;
      text-underline-position: from-font;
      text-decoration-skip-ink: none;
      color: var(--Light-B2-, rgba(69, 83, 122, 1));
      /* border: solid 1px green; */

    }

    .sampleId-info {
      margin-top: 20px;
      display: flex;
      justify-content: flex-start;
      min-height: 44px;
      width: 100%;
      /* border: solid 1px pink; */
      background: var(--Light-B9-, rgba(242, 244, 250, 1));

      .line {
        /* height: 100%; */
        width: 3px;
        box-sizing: border-box;
        border: 1px solid var(--Light-B2-, rgba(69, 83, 122, 1));
        background-color: var(--Light-B2-, rgba(69, 83, 122, 1));
        /* height: 100%; */
      }

      .info-text-box {
        padding: 15px 12px;
        height: 100%;
        width: 100%;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        align-items: flex-start;
        /* margin-left: 12px; */
        /* line-height: 44px; */
        gap: 2px;
        font-size: 14px;
        font-weight: 400;
        text-align: left;
        text-underline-position: from-font;
        text-decoration-skip-ink: none;
        color: var(--Light-B2-, rgba(69, 83, 122, 1));

        span {
          color: var(--Light-05--B2-, #45537A);
          font-size: 14px;
          font-style: normal;
          font-weight: 400;
          line-height: 22px;
        }
      }
    }
  }

  /* Alert */
  .el-collapse.alert-box {
    margin-top: 16px;
    border-radius: 4px;
    overflow: hidden;

    --el-collapse-border-color: rgba(0, 0, 0, 0);

    .el-collapse-item__header {
      padding: 20px 0;
      height: 74px;

      .alert-title {
        display: flex;
        align-items: center;
        padding-left: 20px;
        /* border: solid 1px red; */
        height: 48px;

        span {
          color: var(--Light-B2-, #45537A);
          font-size: 24px;
          font-style: normal;
          font-weight: 600;
          line-height: normal;
        }
      }

      svg {
        transform: rotate(180deg);

        path {
          fill: #A6ACBD;
        }
      }
    }

    .alert-table {
      --el-table-border-color: none;

      th {
        height: 48px;

        &.is-leaf.el-table__cell {
          border-bottom: none;
        }

        .cell {
          color: var(--Light-B2-, #45537A);
          text-align: center;
          font-size: 16px;
          font-style: normal;
          font-weight: 600;
          line-height: 24px;
          /* 150% */
        }
      }

      tbody tr.el-table__row {
        td {
          /* border: solid 1px green; */
          padding: 12px 0;

          &.is-leaf.el-table__cell {
            border-bottom: none;
          }

          .cell {
            padding: 0 16px;
            color: var(--Light-B2-, #45537A);

            /* Body/B3-16- */
            font-size: 16px;
            font-style: normal;
            font-weight: 400;
            line-height: 24px;

            .reference {
              color: var(--Light-B4-, #A6ACBD);
              font-size: 16px;
              font-style: normal;
              font-weight: 400;
              line-height: 24px;
            }

            .alert-symbol {
              display: flex;
              width: 64px;
              height: 24px;
              padding: 0;
              justify-content: center;
              align-items: center;
              gap: 4px;
              flex-shrink: 0;
              border-radius: 2px;

              .alert {
                display: block;
                text-align: center;
                font-size: 12px;
                font-style: normal;
                font-weight: 500;
                line-height: 12px;
              }

              &.warning {
                background: var(--Light-03-warning-01-BG, #FFF6E6);

                .alert {
                  color: var(--Light-03-warning-07-click, #D26D0F);
                }
              }


              &.error {
                background: #FFF2F3;

                .alert {
                  color: rgba(199, 0, 27, 1);
                }
              }

              /* 100% */
            }

            /* 150% */
          }

          &:first-child {
            /* border: solid 1px blue; */
            padding-left: 8px;
          }



          &:last-child {
            /* border: solid 1px blue; */
            padding-right: 8px;
          }
        }
      }

    }

  }

  /* Common table */
  .common-table {
    padding: 0 14px !important;

    .module-title-box {
      padding-left: 6px !important;
      padding-right: 6px !important;
    }


    /* .el-table__row:last-child {
      .el-table__cell {
        border-bottom: none;
      }
    }

    .el-table__inner-wrapper:before {
      height: 0;
    } */

    .el-table--enable-row-hover .el-table__body tr:hover>td.el-table__cell {
      .cell {
        /* padding-left: 12px ;
        padding-right: 12px; */
      }
    }

    .cell {
      padding: 4px 6px;
      color: var(--Light-05--B2-, #45537A);
      font-size: 16px;
      font-style: normal;
      font-weight: 400;
      line-height: 24px;

      span {
        color: var(--Light-05--B2-, #45537A);
        font-size: 16px;
        font-style: normal;
        font-weight: 400;
        line-height: 24px;

        &.QCvalue {
          display: inline-block;
          width: 64px;
          height: 24px;
          text-align: center;
          border-radius: 2px;
          font-size: 12px;
          font-weight: 500;

          &.success {
            color: #026607;
            background-color: #EBFFED;
          }

          &.warning {
            background: var(--Light-03-warning-01-BG, #FFF6E6);
            color: #D26D0F;
          }

          &.error {
            color: #C7001B;
            background-color: #FFF2F3;
          }
        }
      }
    }
  }

  .content-area {
    padding: 0;
    /* padding-top: 24px; */
    display: flex;
    flex-wrap: wrap;

    >div {
      /* border: solid 1px blue; */
      border-radius: 5px;
    }
  }

  #distribution-hover-layer2 {
    position: absolute;

    left: -999px;
    top: -999px;
    z-index: 999;
    display: none;


    display: flex;
    padding: 12px 16px;
    /* flex-direction: column; */
    justify-content: center;
    align-items: center;
    gap: 12px;
    align-self: stretch;
    background: #FFF;
    backdrop-filter: blur(2px);
    border-radius: 8px;

    /* hover */
    box-shadow: 0px 4px 16px -4px rgba(0, 0, 0, 0.04), 0px 6px 28px 0px rgba(0, 0, 0, 0.08), 0px 4px 32px 8px rgba(0, 0, 0, 0.04);

    .arrow {
      position: absolute;
      bottom: -6px;
      left: calc(50% - 7px);
      height: 14px;
      width: 14px;
      background-color: #fff;
      rotate: 45deg;
    }

    .left_label {
      min-width: 34px;
      text-align: right;
      display: inline-block;
      color: var(--Light-05--B2-, #45537A);
      font-size: 12px;
      font-style: normal;
      font-weight: 400;
      line-height: 18px;
      margin-right: 12px;
      /* 150% */
    }

    .right_label {
      color: var(--Light-05--B2-, #45537A);
      font-size: 12px;
      font-style: normal;
      font-weight: 500;
      line-height: 18px;
      /* 150% */
    }
  }

  .plotly-notifier {
    display: none;

    .notifier-split {
      height: 16px;
      width: 1px;
      background-color: #FFFFFF3D;
      border: none;
      margin: 0 8px;
    }

    span {
      color: var(--white-01100, #FFF);
      font-family: Roboto;
      font-size: 14px;
      font-style: normal;
      font-weight: 400;
      line-height: 14px;
      /* 100% */
    }
  }



  /* overview-box style */
  .overview-box {
    display: flex;
    /* flex-direction: column; */
    justify-content: space-between;


    .sub-box {
      /* height: 118px; */
      width: 288px;
      background-color: #ffffff;
      box-shadow: 0px 0px 4px 0px rgba(95, 1, 133, 0.0500);
      border-radius: 4px;
      padding: 0;
      overflow: hidden;
      border-bottom: solid 3px;

      .box-main-content {
        /* height: 114px; */
        box-sizing: border-box;
        /* display: flex;
        flex-direction: column;
        justify-content: space-between; */
        padding: 24px 24px 22px 24px;
        /* height: 114px; */

        .main-content-title {
          color: var(--Light-B2-, #45537A);
          font-size: 14px;
          font-style: normal;
          font-weight: 400;
          line-height: 22px;
          margin-bottom: 12px;
          /* 157.143% */
        }

        .main-content-value {
          color: var(--Light-B2-, #45537A);
          font-size: 32px;
          height: 38px;
          font-style: normal;
          font-weight: 700;
          line-height: normal;
          font-family: BGI;
        }
      }

      .box-foot-color {
        height: 3px;
        border-radius: 0 0 8px 8px;
      }

      &:nth-child(1) {
        border-bottom-color: rgba(157, 126, 240, 1);
      }

      &:nth-child(2) {
        border-bottom-color: rgba(5, 186, 223, 1);
      }

      &:nth-child(3) {
        border-bottom-color: rgba(255, 154, 77, 1);
      }

      &:nth-child(4) {
        border-bottom-color: rgba(252, 215, 67, 1);
      }


    }
  }

  /* Expression */

  .expression-select-option,
  .select-option {
    span.el-popper__arrow {
      display: none !important;
    }

    .el-select-dropdown__item {
      color: #45537a;
      padding: 0 12px;
      /* 
      &.is-hovering {
        background-color: #F8F5FF;
      } */



      &:hover {
        background: rgba(0, 0, 0, 0.04);
      }

      &:active {
        background: rgba(0, 0, 0, 0.08);
      }

      &.is-selected {
        font-weight: unset;
        background: #F8F5FF;

        &:hover {
          background: #F8F5FF;
        }
      }

    }
  }

  .expression-module {

    .el-slider {
      --el-slider-button-wrapper-offset: -13.5px;
    }

    .heatmap-btns-group {
      padding: 0 2px;
      --el-button-text-color: rgba(69, 83, 122, 1);
      height: 40px;
      width: 100%;
      border-radius: 4px;
      margin-bottom: 16px;
      box-sizing: border-box;
      background: var(--Light-B7-, #EBECF0);
      color: var(--Light-B2-, #45537A);

      .el-radio-button {
        background: var(--Light-B7-, #EBECF0);
        border-radius: 4px;
        flex: 1;
        text-align: center;
        color: var(--Light-B2-, #45537A);

        .el-radio-button__inner {
          background: var(--Light-B7-, #EBECF0);
          border: none;
          width: 100%;
          border-radius: 4px;
          box-shadow: none;
          padding: 7px 11px;
          font-size: 14px;
          line-height: 22px;

          &:hover {
            color: var(--Light-B2-, #45537A);
            background-color: rgba(0, 0, 0, 0.04);
          }
        }

        &.is-active {
          .el-radio-button__inner {
            background-color: #ffffff;
            border: none;
            color: var(--Light-B2-, #45537A);
            font-size: 14px;
            font-style: normal;
            font-weight: 600;

            /* 157.143% */

            &:hover {
              color: var(--Light-B2-, #45537A);
            }
          }

        }
      }
    }

    .panzoom-box {
      background-color: #ffffff;

      &.blackBackground,
      .blackBackground {
        background-color: #191418;
      }

    }

    .el-select__wrapper {
      height: 36px;
      border: none;
      box-shadow: none;
      border-radius: 4px;

      span {
        color: rgba(69, 83, 122, 1);
      }

      &.is-focused {
        border: solid 1px #5f0085;
      }

      .el-select__suffix {
        width: 16px;
        height: 16px;

        .el-icon.el-select__caret.el-select__icon {
          width: 16px;
          height: 16px;
        }

        svg {
          width: 16px;
          height: 16px;

          path {
            fill: #A6ACBD;
          }
        }
      }
    }

    .image-enhance-btn.is-checked {
      span.el-switch__core {
        --el-switch-on-color: #45537A;
        background-color: rgba(69, 83, 122, 1);
      }
    }

    .tissue-btn {
      height: 36px;
      border: none;
      border-radius: 4px;

      span {
        color: rgba(69, 83, 122, 1);
        font-weight: 400;
      }

      &:hover {
        background-color: rgba(0, 0, 0, 0.04);
      }

      &:active {
        background-color: rgba(0, 0, 0, 0.08);
      }
    }
  }

  .btn-box {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    border-radius: 50%;
    z-index: 99;
    visibility: visible;
    background-color: rgba(0, 0, 0, 0.36);

    &.download {
      svg {
        path {
          fill: rgba(255, 255, 255, 0.85);
        }
      }

      &:hover,
      &:active {
        path {
          fill: #fff;
        }
      }
    }

    &.reset {
      svg {
        path {
          stroke: rgba(255, 255, 255, 0.85);
        }

        circle {
          fill: rgba(255, 255, 255, 0.85);
        }
      }

      &:hover,
      &:active {
        path {
          stroke: #fff;
        }

        circle {
          fill: #fff;
        }
      }
    }

    /* &:active {
        background-color: rgba(0, 0, 0, 0.72);
      } */
  }

  /* Registration */
  .registration-module,
  .spatialClustering-module {
    .module-content-box {
      width: 100%;
      height: 640px;
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;

      .main-area {
        width: 767px;
        height: 100%;
        background: var(--Light-B8-, #F4F5F6);
        padding: 20px 0;
        box-sizing: border-box;
        border-radius: 4px;
      }

      .btn-box {
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        position: absolute;
        border-radius: 50%;

        z-index: 99;
        visibility: visible;
        background-color: rgba(0, 0, 0, 0.36);

        &.download {
          svg {
            path {
              fill: rgba(255, 255, 255, 0.85);
            }
          }

          &:hover,
          &:active {
            path {
              fill: #fff;
            }
          }
        }

        &.reset {
          svg {
            path {
              stroke: rgba(255, 255, 255, 0.85);
            }

            circle {
              fill: rgba(255, 255, 255, 0.85);
            }
          }

          &:hover,
          &:active {
            path {
              stroke: #fff;
            }

            circle {
              fill: #fff;
            }
          }
        }

        &:active {
          background-color: rgba(0, 0, 0, 0.72);
        }
      }

      .control-panel {
        width: 368px;
        height: 100%;
        background: var(--Light-B8-, #F4F5F6);
        padding: 20px;
        box-sizing: border-box;
        border-radius: 4px;
        color: rgba(69, 83, 122, 1);

        .msg-box {
          margin-bottom: 16px;
          line-height: 22px;

          width: 100%;

          p {
            margin: 0 0 7px 0;
            line-height: 22px;
          }
        }

        .thumbnails-box {
          display: flex;
          justify-content: space-between;
          align-items: center;
          width: 100%;
          height: 76px;
          box-sizing: border-box;
          margin-bottom: 12px;
          position: relative;

          .imagebox {
            z-index: 20;
            position: relative;
            height: 100%;
            width: 76px;
            background-color: #000000;
            border-radius: 4px;

            &.disabled:hover {
              cursor: not-allowed;
              background-color: rgba(0, 0, 0, 0.36);
            }

            &:hover {
              cursor: pointer;
              background-color: rgba(0, 0, 0, 0.94);
            }

            &:active {
              background-color: rgba(0, 0, 0, 0.98);
            }

            .order-box {
              z-index: 20;
              position: absolute;
              left: 4px;
              top: 4px;
              height: 20px;
              width: 20px;
              border-radius: 4px;
              color: #fff;
              background: rgba(0, 0, 0, 0.45);
              display: flex;
              justify-content: center;
              align-items: center;
              color: #FFF;
              /* font-family: BGI; */
              font-size: 14px;
              font-style: normal;
              font-weight: 700;
              line-height: normal;
            }
          }
        }

        .overview-box {
          width: 100%;
          height: 240px;
          box-sizing: border-box;
          background-color: #ffffff;
          border-radius: 4px;
          position: relative;
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;

          .title {
            position: absolute;
            top: 6px;
            left: 6px;
            display: inline-flex;
            height: 20px;
            justify-content: center;
            align-items: center;
            border-radius: 4px;
            background: var(--light-06-black-0445, rgba(0, 0, 0, 0.45));
            padding: 0 10px;

            .content {
              color: #FFF;
              font-size: 14px;
              font-style: normal;
              font-weight: 600;
              line-height: 20px;
            }
          }
        }
      }
    }
  }

  /* Key Metrics */
  .keyMetrics-container {
    .center-label {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100px;
      height: 100px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      pointer-events: none;
      z-index: 9;

      &.protein-label {
        transform: translate(-50%, -58%);
      }

      div {
        height: 20px;
        font-size: 14px;
        font-weight: 400;
        line-height: 18px;
        text-align: center;
        color: #45537A;
        font-style: 'normal';

        &.value-box {
          height: 20px;
          font-size: 16px;
          font-weight: 700;
          border-radius: 24px;
          padding: 4px 8px;

          &.total-gene {
            background-color: #EBECF0;
          }

          &.clean-reads {
            background-color: #05badf;
            color: #fff;
          }
        }
      }


    }

    .sunburst-plot-area {
      height: 100%;
      width: 100%;
    }

    #protein-total-reads {
      height: calc(100% - 22px);
    }
  }

  .key-metrics-box {
    .arco-collapse {
      border-right: none;
    }


  }

  .key-metrics-box,
  .microbe-keyMetrics {
    .arco-collapse-item .arco-collapse-item-expand-icon {
      color: #C1C4C9;
    }

    .arco-collapse-item-header-left {
      height: 48px;
    }

    .arco-collapse-item-header-title {
      width: 100%;
    }

    .arco-collapse-item-content-box {
      padding: 4px 0;
    }

    .arco-collapse-item-content {
      padding-left: 24px;
      padding-right: 0;
      /* border: 1px solid var(--Light-05--B7-, #EBECF0); */
      background: #FAFAFA;
    }

    .stereo-collapse-item {
      border-bottom: solid 1px var(--color-neutral-3);
      padding-left: 12px;
      height: 48px;

      &:nth-last-child(1) {
        border-bottom: none;
      }
    }

    .custom-tree-node {
      width: 100%;
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 14px;
      padding-right: 8px;

      .label-name {
        display: flex;
        align-items: center;

        /* TODO:  */
        .label-icon {
          display: inline-block;
          height: 8px;
          width: 8px;
          border-radius: 50%;
          margin-right: 5px;
        }

        .label-text {
          color: var(--Light-05--B2-, #45537A);
          font-size: 16px;
          font-style: normal;
          font-weight: 400;
          line-height: normal;
          margin-right: 5px;

          &.bold {
            font-weight: 600;
          }
        }
      }

      .value-box {
        .percentage {
          color: var(--Light-05--B2-, #45537A);
          text-align: right;
          /* font-family: "Helvetica Neue"; */
          font-size: 16px;
          font-style: normal;
          font-weight: 500;
          line-height: 16px;
          /* 100% */
        }

        .reads-num {
          display: inline-block;
          width: 128px;
          text-align: right;
          color: var(--Light-05--B2-, #45537A);
          text-align: right;
          /* font-family: 'Helvetica Neue'; */
          font-size: 16px;
          font-style: normal;
          font-weight: 500;
          line-height: normal;
        }
      }

    }
  }

  /* Microbe Pie*/
  .microbe {
    .el-table .cell {
      line-height: 31px;
    }

    .label-icon {
      display: inline-block;
      height: 8px;
      width: 8px;
      border-radius: 50%;
      margin-right: 5px;
    }

    .microbe-content-label {
      color: var(--Light-05--B2-, #45537A);
      /* Body/B3-16- */
      font-size: 16px;
      font-style: normal;
      font-weight: 400;
      line-height: 24px;
      /* 150% */
    }

    .microbe-content-value {
      color: var(--Light-05--B2-, #45537A);
      text-align: right;
      /* font-family: "Helvetica Neue"; */
      font-size: 16px;
      font-style: normal;
      font-weight: 500;
      line-height: 16px;
      /* 100% */
    }
  }

  /* Counts*/
  .Counts-box,
  .ClusterRatio-box {
    .legend-item:hover {
      cursor: pointer;
    }
  }

  /* Cluster */
  .batchCorrection-module,
  .cluster-module {
    .nsewdrag.drag {
      fill: rgba(0, 0, 0, 0.02) !important;
    }

    .el-tabs__content {
      overflow: visible;
    }

    .cluster-area {
      --el-slider-button-wrapper-offset: -13px !important;
      display: flex;
      justify-content: space-between;
      min-height: 490px;
      margin-top: 16px;

      .title {
        text-align: center;
        height: 16px;
        width: 467px;

        span {
          color: var(--Light-05--B2-, #45537A);
          text-align: center;
          font-size: 16px;
          font-style: normal;
          font-weight: 400;
          line-height: 16px;
        }
      }

      .buttons {
        display: flex;
        width: 100%;
        justify-content: space-between;

        button {
          height: 36px;
          border: none;
          border-radius: 4px;
          background-color: #F2F4FA;

          span {
            color: var(--Light-05--B2-, #45537A);
            font-size: 14px;
            font-style: normal;
            font-weight: 400;
            line-height: 22px;
            /* 157.143% */
          }


          &:hover {
            background-color: rgba(0, 0, 0, 0.04);
          }

          &:active {
            background-color: rgba(0, 0, 0, 0.08);
          }

        }
      }


      .el-slider {
        padding-left: 2.5px;

        .el-slider__button-wrapper {
          top: -13px;
        }
      }

      .cluster-container {
        width: 100%;
        height: 456px;
        display: flex;
        align-items: center;

        .clusterImg {
          position: absolute;
          width: 100%;
          height: 100%;
          object-fit: contain;
        }

        .disabled {
          color: lightgray !important;

          .cluster_label {
            background-color: lightgray !important;
          }
        }

        .cluster_item {
          margin-bottom: 2px;
          margin-right: 4px;
          cursor: pointer;
          user-select: none;

          div {
            display: flex;
            justify-content: start;
            align-items: center;

            span {
              /* width: 68px; */
              font-size: 14px;
            }

            .cluster_label {
              display: inline-block;
              border-radius: 5px;
              width: 10px;
              height: 10px;
              margin-right: 8px;
            }
          }
        }
      }
    }
  }

  /* Marker Table */
  .marker-table {
    .marker-container {
      /*margin-top: 40px;*/
      background: #FFFFFF;
      box-shadow: 0px 0px 4px 0px rgba(95, 1, 133, 0.0500);
      border-radius: 8px;
      /* padding-left: 32px; */
    }

    &.cellbin,
    &.aggr {
      .module-title-box {
        position: absolute;
        z-index: 10000;
      }

      .dt-layout-row:nth-child(1) {
        margin-top: 20px;
      }
    }

    .aggrSelector {
      z-index: 9999;


      .el-select__wrapper {
        height: 36px;
        min-height: unset;
        padding: 4px 12px;

        &.is-focused {
          border: solid 1px #5f0085;
        }

        &:hover {
          border: solid 1px #45537a;
        }

        .el-select__placeholder span {
          color: var(--Light-05--B2-, #45537A);
          font-size: 14px;
          font-style: normal;
          font-weight: 400;
          line-height: 22px;
        }

        .el-select__suffix {
          width: 16px;
          height: 16px;

          .el-icon.el-select__caret.el-select__icon {
            width: 16px;
            height: 16px;
          }

          svg {
            width: 16px;
            height: 16px;

            path {
              fill: #A6ACBD;
            }
          }
        }
      }
    }


    .el-tabs.demo-tabs {
      position: relative;

      .el-tabs__header.is-top {
        position: absolute;
        width: unset;
        right: 0;
      }
    }

    .el-tabs.aggr-tabs {
      position: relative;

      .el-tabs__header.is-top {
        display: none;
      }
    }

    .dt-layout-row:nth-child(1) {
      margin-top: 0;
    }

    .markerTable-bottom-right {
      display: flex;
      justify-content: flex-end;
      align-items: center;
    }

    .dt-search {
      width: 260px;
      height: 36px;
      box-sizing: border-box;

      display: flex;
      align-items: center;
      border-radius: 4px;
      background: var(--white-01100, #FFF);
      border: 1px solid var(--Light-05--B6-, #E4E5E9);

      &:hover {
        border-color: #45537A;
      }

      &.highlight {
        border-color: #5f0085;
      }

      input {
        margin-left: 0;
        border: none !important;
        width: 0;
        flex: 1;

        &::-webkit-input-placeholder {
          color: var(---B4-, #A6ACBD);
          font-size: 14px;
          font-style: normal;
          font-weight: 400;
          line-height: 22px;
          /* 157.143% */
        }

        &:focus {
          outline: none;
        }
      }

      .dt-search-icon {
        height: 34px;
        width: 40px;
        box-sizing: border-box;
        display: flex;
        justify-content: center;
        align-items: center;
        border-left: 1px solid var(--Light-05--B6-, #E4E5E9);

        &:hover {
          cursor: pointer;
          background-color: rgba(0, 0, 0, 0.04);
        }

        &:active {
          background-color: rgba(0, 0, 0, 0.08);
        }
      }
    }

    .dt-layout-row:last-child {
      margin-bottom: 0;

      .dt-layout-cell.dt-layout-full {
        display: block;
      }
    }

    .dt-info {
      color: var(--Light-05--B2-, #45537A) !important;
      font-size: 14px;
      font-style: normal;
      font-weight: 400;
      line-height: 14px;
      float: left;
      display: flex;
      align-items: center;
      height: 32px;
      /* 100% */
    }

    .dt-length {
      margin-right: 24px;
      float: right;

      label {
        color: var(--Light-05--B2-, #45537A);
        font-size: 14px;
        font-style: normal;
        font-weight: 400;
        line-height: 14px;
      }

      select {
        box-sizing: border-box;
        margin-right: 8px;
        margin-left: 8px;
        width: 72px;
        height: 32px;
        border-radius: 2px;
        border: 1px solid #E4E5E9;
        /* -webkit-appearance: none; */
        position: relative;

        &:hover {
          border: solid 1px #45537A;
        }

        &:active,
        &:focus-visible,
        &:focus {
          border: solid 1px #5F0085;
          outline: none;
        }

        &::after {
          /* color: #C1C4C9;
          background-color: #C1C4C9; */
          content: '';
          /*  */
          position: absolute;
          /* select */
          right: 10px;
          /*  */
          top: 50%;
          /* select */
          transform: translateY(-50%);
          /*  */
          pointer-events: none;
          /*  */
          color: #C1C4C9;
        }
      }
    }

    .dt-paging {
      color: var(--Light-05--B2-, #45537A) !important;
      float: right;
      height: 32px;
      margin-right: 12px;

      nav {
        display: flex;
        align-items: center;
      }

      button {
        min-width: 32px;
        height: 32px;
        padding: 4px;
        text-align: center;
        /* height: 32px; */
        font-size: 14px;
        font-style: normal;
        font-weight: 400;
        line-height: 14px;
        display: flex;
        align-items: center;
        justify-content: center;

        &.previous,
        &.next {
          font-size: 20px;
          padding-bottom: 8px !important;
        }

        &.current {
          color: white;
          border-radius: 2px;
          background: var(--Light-05--B2-, #45537A) !important;

          &:hover {
            color: white !important;
            background-color: #45537A !important;
          }
        }

        &:hover {
          background-color: rgba(0, 0, 0, 0.04) !important;
        }

        &:active {
          background-color: rgba(0, 0, 0, 0.08) !important;
        }

        &.disabled:hover {
          cursor: not-allowed !important;
          background-color: #ffffff !important;
          color: rgb(166, 172, 189) !important;
        }

        /* 100% */
      }
    }

    .pageTo-box {
      height: 32px;
      float: right;

      span {
        color: var(--Light-05--B2-, #45537A);
        font-size: 14px;
        font-style: normal;
        font-weight: 400;
        line-height: 14px;
        margin-right: 8px;
        /* 100% */
      }

      input {
        /* display: flex; */
        width: 48px;
        height: 32px;
        box-sizing: border-box;
        padding: 4px;
        justify-content: center;
        align-items: center;
        gap: 4px;
        border-radius: 2px;
        border: 1px solid #E4E5E9;

        &:hover {
          border: solid 1px #45537A;
        }

        &:focus-visible,
        &:focus {
          outline: none;
          border: solid 1px #5f0085;
        }
      }
    }

    .dt-empty {
      color: var(--Light-05--B3-, #8C92A3) !important;
      font-size: 14px !important;
      font-style: normal;
      font-weight: 400;
      line-height: 22px;
      padding-left: 482px;
      background-color: #fff !important;
      box-shadow: none !important;
      padding-top: 0;
    }


    th,
    td {
      white-space: nowrap;
      text-align: center;
    }

    /* table */
    div.dataTables_wrapper {
      width: 1136px;
      padding: 24px 32px;
      color: #000000;
      /* margin: 0 auto; */
    }

    /* table header style */
    .geneid-header,
    .cluster-header {
      height: 48px;
      color: var(---B2-, #45537A);
      text-align: center;
      /* font-family: Roboto; */
      font-size: 16px;
      font-style: normal;
      font-weight: 500;
      line-height: 24px;
      border-bottom: none;
    }

    .cluster-header {
      border-right: 1px solid var(--Light-05--B5, #C1C4C9);
      background: #DEE3ED;

      .dt-column-order {
        display: none;
      }
    }

    .geneid-header {
      border-top: 1px solid var(--Light-05--B6-, #E4E5E9);
      border-right: 1px solid var(--Light-05--B6-, #E4E5E9);
      background: #F4F6FA;

      span {
        display: inline-flex;
        align-items: center;
        justify-content: center;

        .msgBtn {
          margin-left: 4px;
          /* width: 14px;
          height: 14px; */
          box-sizing: border-box;

          &:hover {
            /* background: #45537A; */
            border-radius: 50%;
          }


          svg {
            &:hover {
              path {
                fill: black;
              }
            }
          }
        }


      }


    }



    .geneid-header {
      background: #F7F7F7;
    }

    .gray-text {
      color: rgb(202, 202, 202);
    }
  }

  /* square-table */
  .square-table {
    .el-table {
      --el-table-border-color: none;
      --el-table-row-hover-bg-color: rgba(0, 0, 0, 0.04);

      th {
        background-color: #f4f6fa !important;
        border-top: 1px solid var(--Light-05--B6-, #E4E5E9);
        border-right: 1px solid var(--Light-05--B6-, #E4E5E9) !important;

        &:last-child {
          border-right: none !important;
        }

        .cell {
          text-align: center;

          .header {
            display: flex;
            align-items: center;
            justify-content: center;

            .label {
              color: var(--Light-05--B2-, #45537A);
              text-align: center;
              /* font-family: Roboto; */
              font-size: 16px;
              font-style: normal;
              font-weight: 500;
              line-height: 24px;
              margin-right: 4px;

              &.withMarginLeft {
                margin-left: 20px;
              }
            }
          }

          .unit {
            color: var(--Light-05--B3-, #8C92A3);
            /* font-family: Roboto; */
            font-size: 16px;
            font-style: normal;
            font-weight: 400;
            line-height: 24px;
          }
        }
      }


      .cell {
        padding: 0;
      }

      .el-table__cell {
        padding: 12px 0;
      }

      .el-table__body-wrapper {
        .cell {
          color: var(---B2-, #45537A);
          font-family: "Helvetica Neue", Arial, sans-serif;
          padding: 0 24px;
          font-size: 16px;
          font-style: normal;
          font-weight: 400;
          line-height: 24px;
          /* 150% */
        }


        .el-table__row.el-table__row--striped .el-table__cell {
          background: rgba(0, 0, 0, 0.02);
        }

        .el-table__body tr:hover>td.el-table__cell {
          background-color: rgba(0, 0, 0, 0.04);
        }

        .el-table__row .el-table__cell {
          border-bottom: none;
        }
      }
    }
  }

  .input-table {
    .el-table {
      --el-table-border-color: none;
      --el-table-row-hover-bg-color: rgba(0, 0, 0, 0.04);

      .is-group {
        :first-child {
          th {
            background-color: #DEE3ED !important;
            border-right: solid 1px #C1C4C9 !important;

            &:last-child {
              border-right: none !important;
            }
          }
        }
      }

      th {
        background-color: #f4f6fa !important;
        border-top: 1px solid var(--Light-05--B6-, #E4E5E9);
        border-right: 1px solid var(--Light-05--B6-, #E4E5E9) !important;

        &:last-child {
          border-right: none !important;
        }

        .cell {
          text-align: center;

          .header {
            display: flex;
            align-items: center;
            justify-content: center;

            .label {
              color: var(--Light-05--B2-, #45537A);
              text-align: center;
              /* font-family: Roboto; */
              font-size: 16px;
              font-style: normal;
              font-weight: 600;
              line-height: 24px;
              margin-right: 4px;

              &.second {}

              &.withMarginLeft {
                margin-left: 20px;
              }
            }
          }

          .unit {
            color: var(--Light-05--B3-, #8C92A3);
            /* font-family: Roboto; */
            font-size: 16px;
            font-style: normal;
            font-weight: 400;
            line-height: 24px;
          }
        }
      }


      /* .cell {
        padding: 0 24px;
      } */

      .el-table__cell {
        padding: 12px 0;
      }

      .el-table__body-wrapper {
        .cell {
          color: var(---B2-, #45537A);
          font-family: "Helvetica Neue", Arial, sans-serif;
          padding: 0 24px;
          font-size: 16px;
          font-style: normal;
          font-weight: 400;
          line-height: 24px;
          /* 150% */
        }


        .el-table__row.el-table__row--striped .el-table__cell {
          background: rgba(0, 0, 0, 0.02);
        }

        .el-table__body tr:hover>td.el-table__cell {
          background-color: rgba(0, 0, 0, 0.04);
        }

        .el-table__row .el-table__cell {
          border-bottom: none;
        }
      }
    }
  }

  .panzoom-box:hover {
    >button {
      visibility: visible !important;
    }
  }

  /* command line*/
  .commandline {
    &:hover {
      cursor: pointer;

      /* background-color: rgba(0, 0, 0, 0.04); */
      svg {
        path {
          stroke: #45537A;
        }

        rect {
          stroke: #45537A;
        }
      }
    }

    &:active {
      svg {
        path {
          stroke: #45537A;
        }

        rect {
          stroke: #45537A;
        }
      }

      /* background-color: rgba(0, 0, 0, 0.08); */
    }

    svg:hover {
      path {
        stroke: #45537A;
      }

      rect {
        stroke: #45537A;
      }
    }
  }

  /* bin20 bin50 */
</style>

<!-- module style: -->
<style scoped>
  .module-box {
    box-sizing: border-box;
    background-color: #ffffff;
    border-radius: 5px;
    padding: 0 20px;
    margin-top: 16px;


    /* &:last-child {
      margin-bottom: 8px;
    } */

    &.with-margin-right {
      margin-right: 24px;
    }

    .module-title-box {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 20px 0;

      .title-box-left {
        display: flex;
        width: 100%;
        align-items: center;
        height: 34px;

        .title-icon {
          border: solid 2px #5F0185;
          height: 18px;
          margin-right: 16px;
        }

        .title-label {
          margin-right: 8px;
          color: var(--Light-B2-, #45537A);
          font-size: 24px;
          font-style: normal;
          font-weight: 500;
          line-height: normal;
          /* display: flex; */
          height: 100%;
          justify-content: flex-start;
          align-items: center;


        }
      }
    }

    .module-msg {
      font-size: 14px;
      color: #999999;
      font-weight: 500;
      padding: 8px 0;

      .text-blue {
        color: #5F0185;
        margin-bottom: 2px;
        font-size: 14px;

        &:first-child {
          margin-top: 4px;
        }
      }

      .collapse-text {
        font-size: 14px;
        font-weight: 500;
        color: #999999;
      }
    }

    .module-content-box {
      transition: all ease-in-out 0.3s;
      position: relative;

      &.withPaddingTop {
        padding-top: 38px;
      }

      &.binsize-container {

        .el-tabs__header.is-top {
          width: calc(100% - 40px);
          margin: 0 !important;
          border: none;
          height: 38px;
        }

        .el-tabs__nav-wrap.is-top {
          width: 144px;
          float: right;
        }

        .el-tabs__nav.is-top.is-stretch {
          /* border: solid 1px green; */
          padding: 2px;
          border: none;
          height: 38px;
          background-color: #F2F4FA;
          border-radius: 4px;

          .el-tabs__item.is-top {
            height: 34px;
            font-size: 14px;
            font-style: normal;
            font-weight: 500;
            line-height: 14px;
            border-left: none;
            padding: 0 10px !important;
            color: var(--Light-05--B2-, #45537A);

            &:hover {
              background-color: rgba(0, 0, 0, 0.02);
              border-radius: 3px;
            }

            &:active {
              background-color: rgba(0, 0, 0, 0.04);
              border-radius: 3px;
            }

            &.is-active {
              background-color: #ffffff;
              border-radius: 3px;
            }
          }
        }
      }
    }


  }
</style>


<script src="./js/dependencies/vue.global.prod.js"></script>
<script>
  const { createApp, ref, onMounted, computed, watch, nextTick } = Vue;
  let message, messageArrow, markerTableMsgMap;
  function mergeObjects(obj1, obj2) {
    for (let key in obj2) {
      if (typeof obj2[key] === 'object' && obj1.hasOwnProperty(key) && typeof obj1[key] === 'object') {
        obj1[key] = mergeObjects(obj1[key], obj2[key]);
      } else {
        obj1[key] = obj2[key];
      };
    };
    return obj1;
  };
  function deepCopy(obj) {
    return JSON.parse(JSON.stringify(obj));
  };
  function appendTips() {
    /* add tips dom */
    message = document.createElement('div');
    message.id = 'customMessage';
    document.body.appendChild(message);
    messageArrow = document.createElement('div');
    messageArrow.id = 'customArrow';
    document.body.appendChild(messageArrow);
  };
  function showMessage(e, msg = 'l2fc') {
    const windowHeight = window.innerHeight;
    const windowWidth = window.innerWidth;
    message.style.maxHeight = (windowHeight / 2 - 24) + 'px';
    message.style.maxWidth = Math.min(400, (windowWidth / 2 - 24)) + 'px';
    const { offsetLeft, offsetWidth, offsetTop, offsetHeight, pageX, pageY } = e.target;
    const { left, right, bottom, top } = e.target.getBoundingClientRect();
    msgContent = markerTableMsgMap[msg];
    if (!msgContent) return;
    message.style.display = customArrow.style.display = 'block';
    message.innerHTML = msgContent;

    if (right + message.offsetWidth + 10 <= windowWidth) {
      message.style.left = right + 10 + 'px';
      customArrow.style.left = right + 8 + 'px';
    } else {
      message.style.left = left - message.offsetWidth - 10 + 'px';
      customArrow.style.left = left - offsetWidth - 6 + 'px';
    }
    const newTop = Math.max(top + offsetHeight / 2 - (message.offsetHeight / 2) + window.scrollY, window.scrollY + 4);
    message.style.top = newTop + 'px';
    customArrow.style.top = top + offsetHeight / 2 - 7.07 + window.scrollY + 'px';
  };
  function hideMessage() {
    message.style.display = customArrow.style.display = 'none';
  };

</script>
<script src="./js/dependencies/element-plus.2.9.9.full.min.js"></script>
<script src="./js/dependencies/icons-vue.js"></script>
<script src="./js/dependencies/datatables.min.js"></script>
<script src="./js/dependencies/html2canvas.min.js"></script>
<script src="./js/dependencies/arco-vue.min.js"></script>
<script src="./js/dependencies/echarts.min.js"></script>
<script src="./js/dependencies/jszip.min.js"></script>
<script src="./js/dependencies/FileSaver.min.js"></script>
<!-- <script src="./js/Title.js"></script> -->
<script src="./js/module/BatchCorrection.js"></script>
<script src="./js/module/Cluster.js"></script>
<script src="./js/module/ClusterRatio.js"></script>
<script src="./js/module/CommandLine.js"></script>
<script src="./js/module/Common.js"></script>
<script src="./js/module/CommonDoubleCol.js"></script>
<script src="./js/module/Correlations.js"></script>
<script src="./js/module/Counts.js"></script>
<script src="./js/module/DepthNormalization.js"></script>
<script src="./js/module/Distribution.js"></script>
<script src="./js/module/Expression.js"></script>
<script src="./js/module/ExpressionRightMsg.js"></script>
<script src="./js/module/InputTable.js"></script>
<script src="./js/module/KeyMetrics.js"></script>
<script src="./js/module/MarkerCluster.js"></script>
<script src="./js/module/MarkerTable.js"></script>
<script src="./js/module/Microbe.js"></script>
<script src="./js/module/MicrobeMetrics.js"></script>
<script src="./js/module/ModuleHeader.js"></script>
<script src="./js/module/Overview.js"></script>
<script src="./js/module/Registration.js"></script>

<script src="./js/module/Saturation.js"></script>
<script src="./js/module/SpatialClustering.js"></script>
<script src="./js/module/SquareTable.js"></script>
<script src="./js/module/Sunburst.js"></script>
<script src="./js/module/TissueSeg.js"></script>
<!--  End-->
<script src="./js/result.js"></script>
<script src='./js/dependencies/panzoom-4.5.1.min.js'></script>
<script src="./js/dependencies/plot.min.js"></script>
<!-- <script>
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        console.log('Rendering plot for:', entry.target);
        renderPlot(entry.target);
        observer.unobserve(entry.target);
      }
    });
  });

  document.querySelectorAll('.module-content-box').forEach(container => {
    observer.observe(container);
  });
</script> -->
<script>
  const app = createApp({
    components: {
      BatchCorrection,
      Cluster,
      ClusterRatio,
      CommandLine,
      Common,
      CommonDoubleCol,
      Correlations,
      Counts,
      DepthNormalization,
      Distribution,
      Expression,
      ExpressionRightMsg,
      InputTable,
      KeyMetrics,
      MarkerCluster,
      MarkerTable,
      Microbe,
      MicrobeMetrics,
      ModuleHeader,
      Overview,
      Registration,
      Saturation,
      SpatialClustering,
      SquareTable,
      Sunburst,
      TissueSeg,
    },
    setup() {
      const dataJson = ref({});
      const showAlert = ref(['1']);
      const curOmics = ref('gene');
      const curSecondTab = ref('summary');

      const geneDistributionBinsize = ref('bin20');
      const geneClusterBinsize = ref('bin20');
      const geneMarkerTableBinsize = ref('bin20');
      const msMarkerTableBinsize = ref('');
      const proteinDistributionBinsize = ref('bin20');
      const proteinClusterBinsize = ref('bin20');

      const keyMetricsRef = ref();

      const keyMap = {
        summary: 'Summary',
        squarebin: 'Square Bin',
        cellbin: 'Cell Bin',
        gene: 'Gene',
        protein: 'Protein',
        microbe: 'Microbe',
        image: 'Image'
      };
      const omicsArr = ref([]);
      const secondTabArr = computed(() => {
        return Object.keys(dataJson.value.omics[curOmics.value]);
      });

      const curPage = computed(() => {
        return `${curOmics.value}-${curSecondTab.value}`;
      });

      const optionStyle = computed(() => {
        const tabsNum = secondTabArr.value.length;
        return {
          'width': (1208 - 24 * tabsNum) / tabsNum + 'px'
        }
      });

      function downloadEPlot(domID, title = 'Download') {
        const elementToDownload = document.getElementById(domID);
        html2canvas(elementToDownload).then(function (canvas) {
          const link = document.createElement('a');
          link.href = canvas.toDataURL('image/png');
          link.download = title + '.png';
          link.click();
        });
      };

      onMounted(() => {
        document.getElementById('app').style.opacity = 1;
        console.log('HTML Version: V8.2');
        curOmics.value = resultJson.omics && Object.keys(resultJson.omics)[0] || '';
        geneDistributionBinsize.value = resultJson.omics?.gene?.squarebin?.distribution?.binlist[0]?.value || 'bin20';
        geneClusterBinsize.value = resultJson.omics?.gene?.squarebin?.clustering?.binlist[0]?.value || 'bin20';
        geneMarkerTableBinsize.value = resultJson.omics?.gene?.squarebin?.markers?.binlist[0]?.value || 'bin20';
        msMarkerTableBinsize.value = resultJson.ms?.aggrMarkers?.binlist[0]?.value || 'Slice_01';
        proteinDistributionBinsize.value = resultJson.omics?.protein?.squarebin?.distribution?.binlist[0]?.value || 'bin20';
        proteinClusterBinsize.value = resultJson.omics?.protein?.squarebin?.clustering?.binlist[0]?.value || 'bin20';


        const toolTip = document.getElementById('distribution-hover-layer2');
        document.addEventListener('mousemove', function (event) {
          if (!event.target.id || !event.target.id.startsWith('distribution') || event?.offsetX < 80) {
            toolTip.style.display = 'none';
            return;
          };
          toolTip.style.display = 'block';
          toolTip.style.left = event.pageX - 52 + 'px';
          toolTip.style.top = event.pageY - 130 + 'px';
        });
        if (resultJson.baseImageList) {
          resultJson.baseImageList.push(
            {
              label: 'No Image',
              value: 'noimage',
              src: ''
            }
          );
        };
        if (resultJson) {
          dataJson.value = { ...resultJson };
          const isOmics = Object.keys(dataJson.value).includes('omics');
          omicsArr.value = isOmics ? Object.keys(dataJson.value.omics) : [];
          markerTableMsgMap = {
            'l2fc': isOmics ? dataJson.value.omics?.gene?.squarebin?.markers?.msg?.l2fc : dataJson.value.ms.markers.msg.l2fc,
            'pvalue': isOmics ? dataJson.value.omics?.gene?.squarebin?.markers?.msg.pvalue : dataJson.value.ms.markers.msg.pvalue
          }
        };
      });

      const handleClose = (key, keyPath) => {
        console.log(key, keyPath);
      };
      const handleChange = () => {
        curSecondTab.value = 'summary';
      };

      appendTips();

      async function downloadCluster(prefix, title) {
        const idList = [prefix + '-spatial', prefix + '-umap', prefix + '-legend'];
        const zip = new JSZip();
        const promises = idList.map((plotId, index) => {
          return new Promise((resolve) => {
            /**
            Plotly.toImage(plotId, { format: 'png', width: 600, height: 600 }).then((dataUrl) => {
              fetch(dataUrl)
                .then(response => response.blob())
                .then(blob => {
                  zip.file(`${item.renderSn}.png`, blob);
                  resolve();
                });
            });
             */
            html2canvas(document.getElementById(plotId), {
              allowTaint: true,
              useCORS: true
            }).then((canvas) => {
              canvas.toBlob((blob) => {
                zip.file(`${plotId}.png`, blob);
                resolve();
              }, 'image/png', 1);
            });
          });
        });
        await Promise.all(promises);

        const content = await zip.generateAsync({ type: "blob" });
        saveAs(content, title + ".zip");
      };

      return {
        dataJson,
        showAlert,
        curPage,
        geneDistributionBinsize,
        geneClusterBinsize,
        geneMarkerTableBinsize,
        msMarkerTableBinsize,
        proteinDistributionBinsize,
        proteinClusterBinsize,
        curOmics,
        omicsArr,
        keyMap,
        handleClose,
        handleChange,
        downloadEPlot,
        downloadCluster,
        secondTabArr,
        curSecondTab,
        optionStyle
      };
    }
  });
  for (const [key, component] of Object.entries(ElementPlusIconsVue)) {
    app.component(key, component);
  };

  function adjustColumnWidth(table, padding = 24) {
    const colgroup = table.querySelector("colgroup");
    const colDefs = [...colgroup.querySelectorAll("col")];
    console.log('colDefs', colDefs);
    colDefs.forEach((col) => {
      const clsName = col.getAttribute("name");
      const cells = [
        ...table.querySelectorAll(`td.${clsName}`),
        ...table.querySelectorAll(`th.${clsName}`),
      ];
      if (cells[0]?.classList?.contains?.("leave-alone")) {
        return;
      };
      const widthList = cells.map((el) => {
        return el.querySelector(".cell")?.scrollWidth || 0;
      });
      console.log('widthList', widthList);
      const max = Math.max(...widthList);
      table.querySelectorAll(`col[name=${clsName}]`).forEach((el) => {
        el.setAttribute("width", max + padding);
      });
    });
  };
  app.directive("fit-columns", {
    created() { },
    inserted() { },
    mounted(el, binding) {
      el.classList.add("r-table");
      setTimeout(() => {
        adjustColumnWidth(el, binding.value);
      }, 300);
    },
  });
  app.use(ElementPlus).use(ArcoVue).mount('#app');
</script>

</html>